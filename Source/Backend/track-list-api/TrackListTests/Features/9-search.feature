# –ú–æ–≤–∞: uk
@epic9 @search
–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª: –ú—É–ª—å—Ç–∏–º–æ–≤–Ω–∏–π –ø–æ—à—É–∫ —Ç–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è –º–µ–¥—ñ–∞-–∫–æ–Ω—Ç–µ–Ω—Ç—É
  –Ø–∫ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á (–∞–±–æ –ì—ñ—Å—Ç—å),
  –Ø —Ö–æ—á—É –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —à—É–∫–∞—Ç–∏ –º–µ–¥—ñ–∞-–∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ –±—É–¥—å-—è–∫—ñ–π –º–æ–≤—ñ
  –©–æ–± –∑–∞–≤–∂–¥–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω–µ –º–µ–¥—ñ–∞, –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –º–æ–≤–∏ –≤–≤–µ–¥–µ–Ω–Ω—è.

  –ü–µ—Ä–µ–¥—É–º–æ–≤–∞:
    –î–∞–Ω–æ –°–∏—Å—Ç–µ–º–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–∞ –¥–æ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ API (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, TMDB)
    # --- –ú–µ–¥—ñ–∞, —è–∫–µ –í–ñ–ï —î –≤ –Ω–∞—à—ñ–π –±–∞–∑—ñ (–∫–µ—à—ñ) ---
    –Ü –í —Ç–∞–±–ª–∏—Ü—ñ `Media` —ñ—Å–Ω—É—î –∑–∞–ø–∏—Å (Id: 1, ExternalApiId: "tmdb-550")
    # –ü–µ—Ä–µ–∫–ª–∞–¥–∏ –¥–ª—è "tmdb-550"
    –Ü –í `MediaTranslations` —ñ—Å–Ω—É—î: (MediaId: 1, Lang: "en", Title: "Fight Club", Status: "Official")
    –Ü –í `MediaTranslations` —ñ—Å–Ω—É—î: (MediaId: 1, Lang: "uk", Title: "–ë—ñ–π—Ü—ñ–≤—Å—å–∫–∏–π –∫–ª—É–±", Status: "Approved")
    # –ó–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–∏–π, –∞–ª–µ –Ω–µ —Å—Ö–≤–∞–ª–µ–Ω–∏–π –ø–µ—Ä–µ–∫–ª–∞–¥
    –Ü –í `MediaTranslations` —ñ—Å–Ω—É—î: (MediaId: 1, Lang: "uk", Title: "–ö–ª—É–± –∑–∞–±—ñ—è–∫", Status: "Pending")
    
    # --- –ú–µ–¥—ñ–∞, —è–∫–æ–≥–æ –ù–ï–ú–ê–Ñ –≤ –Ω–∞—à—ñ–π –±–∞–∑—ñ (—Ç—ñ–ª—å–∫–∏ –≤ API) ---
    –Ü –í –∑–æ–≤–Ω—ñ—à–Ω—å–æ–º—É API (TMDB) —ñ—Å–Ω—É—î –º–µ–¥—ñ–∞ "Dune" (ExternalApiId: "tmdb-438631")
    –Ü "Dune" (ExternalApiId: "tmdb-438631") —â–µ –Ω–µ —ñ—Å–Ω—É—î –≤ –ª–æ–∫–∞–ª—å–Ω—ñ–π —Ç–∞–±–ª–∏—Ü—ñ `Media`
    
    # --- –ú–µ–¥—ñ–∞, —è–∫–µ –±—É–ª–æ (–º'—è–∫–æ) –≤–∏–¥–∞–ª–µ–Ω–æ ---
    –Ü –í —Ç–∞–±–ª–∏—Ü—ñ `Media` —ñ—Å–Ω—É—î "Deleted Movie" (Id: 3, DeletedAt: "2025-10-10T10:00:00Z")

# --- US-901: –ü–æ—à—É–∫ –º–µ–¥—ñ–∞ (–õ–æ–∫–∞–ª—å–Ω–∞ –ë–î + API) ---

  @us-901 @happy-path
  –°—Ü–µ–Ω–∞—Ä—ñ–π: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —à—É–∫–∞—î –º–µ–¥—ñ–∞ —Ç–∞ –±–∞—á–∏—Ç—å –∑–≤–µ–¥–µ–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
    –î–∞–Ω–æ –ì—ñ—Å—Ç—å –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É —Ä—è–¥–∫—É –ø–æ—à—É–∫—É
    –ö–æ–ª–∏ –í—ñ–Ω –≤–≤–æ–¥–∏—Ç—å –∑–∞–ø–∏—Ç "Dune"
    –¢–æ–¥—ñ –ë–µ–∫–µ–Ω–¥ –æ–ø–∏—Ç—É—î —ñ –ª–æ–∫–∞–ª—å–Ω—É –ë–î (–ø–æ `MediaTranslations`), —ñ –∑–æ–≤–Ω—ñ—à–Ω—î API (TMDB)
    –Ü –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—É—î —Å–ø–∏—Å–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤, —â–æ –º—ñ—Å—Ç–∏—Ç—å:
      | –ù–∞–∑–≤–∞     | –î–∂–µ—Ä–µ–ª–æ            |
      | Dune      | (–∑ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ API)|
    # –ù–∞—à "Fight Club" –Ω–µ –∑'—è–≤–ª—è—î—Ç—å—Å—è, –±–æ –∑–∞–ø–∏—Ç "Dune"

  @us-901 @happy-path
  –°—Ü–µ–Ω–∞—Ä—ñ–π: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —à—É–∫–∞—î –º–µ–¥—ñ–∞ –∑–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–º –ø–µ—Ä–µ–∫–ª–∞–¥–æ–º (–∑ –ª–æ–∫–∞–ª—å–Ω–æ—ó –ë–î)
    –î–∞–Ω–æ –ì—ñ—Å—Ç—å –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É —Ä—è–¥–∫—É –ø–æ—à—É–∫—É
    –ö–æ–ª–∏ –í—ñ–Ω –≤–≤–æ–¥–∏—Ç—å –∑–∞–ø–∏—Ç "–ë—ñ–π—Ü—ñ–≤—Å—å–∫–∏–π"
    # –ë–µ–∫–µ–Ω–¥ —à—É–∫–∞—î –≤ `MediaTranslations` –ø–æ `Title` (Status 'Official' –∞–±–æ 'Approved')
    –¢–æ–¥—ñ –í—ñ–Ω –±–∞—á–∏—Ç—å "–ë—ñ–π—Ü—ñ–≤—Å—å–∫–∏–π –∫–ª—É–±" (Id: 1) —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ—à—É–∫—É

  @us-901 @negative-path
  –°—Ü–µ–Ω–∞—Ä—ñ–π: –ü–æ—à—É–∫ –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–µ-—Å—Ö–≤–∞–ª–µ–Ω—ñ –∞–±–æ –≤–∏–¥–∞–ª–µ–Ω—ñ –º–µ–¥—ñ–∞
    –î–∞–Ω–æ –ì—ñ—Å—Ç—å –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É —Ä—è–¥–∫—É –ø–æ—à—É–∫—É
    –ö–æ–ª–∏ –í—ñ–Ω –≤–≤–æ–¥–∏—Ç—å –∑–∞–ø–∏—Ç "–ö–ª—É–± –∑–∞–±—ñ—è–∫" (—è–∫–∏–π –º–∞—î —Å—Ç–∞—Ç—É—Å 'Pending')
    –¢–æ–¥—ñ –í—ñ–Ω –ù–ï –±–∞—á–∏—Ç—å "–ë—ñ–π—Ü—ñ–≤—Å—å–∫–∏–π –∫–ª—É–±" —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ—à—É–∫—É
    
    –ö–æ–ª–∏ –í—ñ–Ω –≤–≤–æ–¥–∏—Ç—å –∑–∞–ø–∏—Ç "Deleted Movie" (—è–∫–∏–π –º–∞—î `DeletedAt != null`)
    –¢–æ–¥—ñ –í—ñ–Ω –ù–ï –±–∞—á–∏—Ç—å "Deleted Movie" —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ—à—É–∫—É

# --- US-902: –ö–µ—à—É–≤–∞–Ω–Ω—è –Ω–∞ –≤–∏–º–æ–≥—É (Fetch & Store) ---

  @us-902 @happy-path
  –°—Ü–µ–Ω–∞—Ä—ñ–π: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Å—Ç–æ—Ä—ñ–Ω–∫—É –º–µ–¥—ñ–∞, —è–∫–æ–≥–æ —â–µ –Ω–µ–º–∞—î –≤ –ª–æ–∫–∞–ª—å–Ω—ñ–π –ë–î
    –î–∞–Ω–æ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å "Dune" (ExternalApiId: "tmdb-438631") —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ—à—É–∫—É
    –Ü –ó–∞–ø–∏—Å "tmdb-438631" —â–µ –Ω–µ —ñ—Å–Ω—É—î –≤ –ª–æ–∫–∞–ª—å–Ω—ñ–π —Ç–∞–±–ª–∏—Ü—ñ `Media`
    –ö–æ–ª–∏ –í—ñ–Ω –Ω–∞—Ç–∏—Å–∫–∞—î –Ω–∞ "Dune" (–ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ "/media/tmdb-438631")
    # –¶–µ –∑–º—É—à—É—î –±–µ–∫–µ–Ω–¥ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è
    –¢–æ–¥—ñ –ë–µ–∫–µ–Ω–¥ –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ API –∑–∞ –ø–æ–≤–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ "tmdb-438631"
    –Ü –ë–µ–∫–µ–Ω–¥ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å (–∑ –Ω–æ–≤–∏–º Guid v7) –≤ —Ç–∞–±–ª–∏—Ü—ñ `Media` (–∑ `ExternalApiId` = "tmdb-438631")
    # –ë–µ–∫–µ–Ω–¥ —Å—Ç–≤–æ—Ä—é—î –∑–∞–ø–∏—Å–∏ –¥–ª—è –í–°–Ü–• –æ—Ñ—ñ—Ü—ñ–π–Ω–∏—Ö –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤
    –Ü –ë–µ–∫–µ–Ω–¥ —Å—Ç–≤–æ—Ä—é—î –∑–∞–ø–∏—Å –≤ `MediaTranslations` (Lang: "en", Title: "Dune", Status: "Official")
    –Ü –ë–µ–∫–µ–Ω–¥ —Å—Ç–≤–æ—Ä—é—î –∑–∞–ø–∏—Å –≤ `MediaTranslations` (Lang: "uk", Title: "–î—é–Ω–∞", Status: "Official")
    –Ü –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å –ø–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É "–î—é–Ω–∞" (–∞–±–æ "Dune", –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –º–æ–≤–∏)

  @us-902 @happy-path
  –°—Ü–µ–Ω–∞—Ä—ñ–π: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Å—Ç–æ—Ä—ñ–Ω–∫—É –º–µ–¥—ñ–∞, —è–∫–µ –≤–∂–µ —î –≤ –∫–µ—à—ñ
    –î–∞–Ω–æ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å "–ë—ñ–π—Ü—ñ–≤—Å—å–∫–∏–π –∫–ª—É–±" (Id: 1) —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ—à—É–∫—É
    –Ü "–ë—ñ–π—Ü—ñ–≤—Å—å–∫–∏–π –∫–ª—É–±" (Id: 1) –≤–∂–µ —ñ—Å–Ω—É—î –≤ –ª–æ–∫–∞–ª—å–Ω—ñ–π —Ç–∞–±–ª–∏—Ü—ñ `Media`
    –ö–æ–ª–∏ –í—ñ–Ω –Ω–∞—Ç–∏—Å–∫–∞—î –Ω–∞ "–ë—ñ–π—Ü—ñ–≤—Å—å–∫–∏–π –∫–ª—É–±" (–ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ "/media/1")
    –¢–æ–¥—ñ –ë–µ–∫–µ–Ω–¥ –ù–ï –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ API
    –Ü –ë–µ–∫–µ–Ω–¥ –º–∏—Ç—Ç—î–≤–æ –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ –ø—Ä–æ "Id: 1" –∑ –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ `Media`
    –Ü –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å –ø–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É "–ë—ñ–π—Ü—ñ–≤—Å—å–∫–∏–π –∫–ª—É–±"

# ---
# 
# üõ†Ô∏è –ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è Backend (.Net / EF / Postgres)
#
# 1.  **BaseEntity (–ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è):**
#     * `Media` —Ç–∞ `MediaTranslations` —É—Å–ø–∞–¥–∫–æ–≤—É—é—Ç—å `BaseEntity` (Id (Guid v7), CreatedAt, UpdatedAt, DeletedAt (nullable)).
#     * **Global Query Filter** (`.Where(e => e.DeletedAt == null)`) –º–∞—î –±—É—Ç–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –¥–ª—è `Media` —Ç–∞ `MediaTranslations`.
#
# 2.  **–ú–æ–¥–µ–ª—å –¥–∞–Ω–∏—Ö `MediaTranslations` (–ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è):**
#     * –ú–∞—î `Status` (enum `TranslationStatus`: 'Official', 'Pending', 'Approved', 'Rejected').
#
# 3.  **–°–µ—Ä–≤—ñ—Å: `IExternalMediaProvider` (–Ω–∞–ø—Ä., `TmdbService`)**
#     * –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–µ—Ä–≤—ñ—Å, —è–∫–∏–π —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –ª–æ–≥—ñ–∫—É —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –∑ TMDB (–∞–±–æ —ñ–Ω—à–∏–º API).
#     * `SearchAsync(string query)`: –®—É–∫–∞—î –≤ TMDB.
#     * `GetByIdAsync(string externalId)`: –û—Ç—Ä–∏–º—É—î –ø–æ–≤–Ω—ñ –¥–∞–Ω—ñ (–≤–∫–ª—é—á–∞—é—á–∏ *–≤—Å—ñ* –ø–µ—Ä–µ–∫–ª–∞–¥–∏) –∑ TMDB.
#
# 4.  **–°–µ—Ä–≤—ñ—Å: `MediaSearchService` (US-901)**
#     * `SearchAsync(string query)`:
#         * 1. –í–∏–∫–ª–∏–∫–∞—î `_context.MediaTranslations.Where(t => t.Title.Contains(query) && (t.Status == 'Official' || t.Status == 'Approved'))`.
#         * 2. (–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ) –í–∏–∫–ª–∏–∫–∞—î `_externalMediaProvider.SearchAsync(query)`.
#         * 3. –û–±'—î–¥–Ω—É—î (–º–µ—Ä–∂–∏—Ç—å) –¥–≤–∞ —Å–ø–∏—Å–∫–∏, –≤–∏–¥–∞–ª—è—é—á–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏ (–Ω–∞–ø—Ä., —è–∫—â–æ –º–µ–¥—ñ–∞ —î —ñ –ª–æ–∫–∞–ª—å–Ω–æ, —ñ –≤ API).
#         * 4. –ü–æ–≤–µ—Ä—Ç–∞—î –∑–≤–µ–¥–µ–Ω–∏–π —Å–ø–∏—Å–æ–∫ DTO.
#
# 5.  **–°–µ—Ä–≤—ñ—Å: `MediaCacheService` (US-902)**
#     * `GetOrCreateMedia(string externalId)`:
#         * 1. –®—É–∫–∞—î `Media` –≤ –ª–æ–∫–∞–ª—å–Ω—ñ–π –ë–î: `_context.Media.FirstOrDefaultAsync(m => m.ExternalApiId == externalId)`.
#         * 2. –Ø–∫—â–æ `media != null` (—ñ `DeletedAt == null`) -> –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –π–æ–≥–æ.
#         * 3. –Ø–∫—â–æ `media == null`:
#             * –∞. –í–∏–∫–ª–∏–∫–∞—Ç–∏ `_externalMediaProvider.GetByIdAsync(externalId)`.
#             * –±. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç `Media` (–∑ –Ω–æ–≤–∏–º `Guid v7`).
#             * –≤. –°—Ç–≤–æ—Ä–∏—Ç–∏ `List<MediaTranslation>` –∑ *—É—Å—ñ—Ö* –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤ –∑ API (–∑ `Status = 'Official'`).
#             * –≥. –ó–±–µ—Ä–µ–≥—Ç–∏ `Media` —Ç–∞ –π–æ–≥–æ `MediaTranslations` –≤ –ë–î.
#             * –¥. –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –Ω–æ–≤–µ `Media`.
#
# 6.  **API –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏ (Controller):**
#     * `GET /api/search?q={query}`: –í–∏–∫–ª–∏–∫–∞—î `MediaSearchService.SearchAsync(query)`.
#     * `GET /api/media/external/{externalId}`: (–î–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∑ API) –í–∏–∫–ª–∏–∫–∞—î `MediaCacheService.GetOrCreateMedia(externalId)`, –∞ –ø–æ—Ç—ñ–º –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ (–º–æ–∂–ª–∏–≤–æ, —Ä–æ–±–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/api/media/{internalId}`).
#     * `GET /api/media/{internalId}`: (–î–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∑ –ë–î) –ü—Ä–æ—Å—Ç–æ –ø–æ–≤–µ—Ä—Ç–∞—î –º–µ–¥—ñ–∞ –∑ –ë–î.
#
# ---
#
# üé® –ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è Frontend (Svelte-kit)
#
# 1.  **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `Searchbar.svelte`**
#     * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç (–º–æ–∂–ª–∏–≤–æ, –≤ `Header.svelte`), —è–∫–∏–π –º–∞—î `<input type="search">`.
#     * –†–µ–∞–ª—ñ–∑—É—î "Debouncing" (–≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –∑–∞–ø–∏—Ç –Ω–µ –Ω–∞ –∫–æ–∂–Ω—É –ª—ñ—Ç–µ—Ä—É, –∞ —á–µ—Ä–µ–∑ 300ms –ø—ñ—Å–ª—è –∑—É–ø–∏–Ω–∫–∏ –≤–≤–æ–¥—É).
#     * –í–∏–∫–ª–∏–∫–∞—î `fetch('/api/search?q=...')`.
#
# 2.  **–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –ø–æ—à—É–∫—É:**
#     * –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ (–∑ `/api/search`) –º–∞—é—Ç—å –±—É—Ç–∏ —Å–ø–∏—Å–∫–æ–º DTO, –Ω–∞–ø—Ä.: `{ title: "–î—é–Ω–∞", poster: "...", url: "/media/external/tmdb-438631" }` –∞–±–æ `{ title: "–ë—ñ–π—Ü—ñ–≤—Å—å–∫–∏–π –∫–ª—É–±", poster: "...", url: "/media/1" }`.
#     * –§—Ä–æ–Ω—Ç–µ–Ω–¥ *–Ω–µ –∑–Ω–∞—î* —Ä—ñ–∑–Ω–∏—Ü—ñ, –≤—ñ–Ω –ø—Ä–æ—Å—Ç–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ—Å–∏–ª–∞–Ω—å (`<a>`).
#
# 3.  **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è (–°—Ç–æ—Ä—ñ–Ω–∫–∞ –ú–µ–¥—ñ–∞):**
#     * –ü–æ—Ç—Ä—ñ–±–Ω—ñ –¥–≤–∞ –¥–∏–Ω–∞–º—ñ—á–Ω—ñ –º–∞—Ä—à—Ä—É—Ç–∏ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –æ–±–æ—Ö —Ç–∏–ø—ñ–≤ URL:
#         * `src/routes/media/[internalId]/+page.svelte` (–¥–ª—è GUID)
#         * `src/routes/media/external/[externalId]/+page.svelte` (–¥–ª—è 'tmdb-xxxxx')
#     * –û–±–∏–¥–≤–∞ —Ü—ñ –º–∞—Ä—à—Ä—É—Ç–∏ (`+page.ts` `load` function) –≤–∏–∫–ª–∏–∫–∞—é—Ç—å —Å–≤–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ (`/api/media/[internalId]` –∞–±–æ `/api/media/external/[externalId]`) —ñ —Ä–µ–Ω–¥–µ—Ä—è—Ç—å *—Ç—É —Å–∞–º—É* —Å—Ç–æ—Ä—ñ–Ω–∫—É –º–µ–¥—ñ–∞.
#