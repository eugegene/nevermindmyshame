#!/bin/bash

# –ù–∞–∑–≤–∏ –ø–∞–ø–æ–∫ (–ø—ñ–¥—Å—Ç–∞–≤ —Å–≤–æ—ó —Ä–µ–∞–ª—å–Ω—ñ —à–ª—è—Ö–∏)
FRONTEND_DIR="./frontend"
BACKEND_DIR="./Backend/track-list-api/track-list-api" # –ü–∞–ø–∫–∞ –¥–µ –ª–µ–∂–∏—Ç—å .csproj

echo "üîÑ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è .env —Ñ–∞–π–ª—ñ–≤..."

# –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —ñ—Å–Ω—É—î –≥–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª
if [ ! -f .env ]; then
    echo "‚ùå –ü–æ–º–∏–ª–∫–∞: –§–∞–π–ª .env –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –≤ –∫–æ—Ä–µ–Ω—ñ!"
    exit 1
fi

# –§—É–Ω–∫—Ü—ñ—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
copy_env() {
    TARGET_DIR=$1
    if [ -d "$TARGET_DIR" ]; then
        cp .env "$TARGET_DIR/.env"
        echo "‚úÖ –°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –≤ $TARGET_DIR"
    else
        echo "‚ö†Ô∏è –ü–∞–ø–∫—É $TARGET_DIR –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ, –ø—Ä–æ–ø—É—Å–∫–∞—é."
    fi
}

# –ö–æ–ø—ñ—é—î–º–æ
copy_env "$FRONTEND_DIR"
copy_env "$BACKEND_DIR"

echo "üéâ –ì–æ—Ç–æ–≤–æ! –í—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –º–∞—é—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è."